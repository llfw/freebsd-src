# le-fay.org standard kernel for amd64

cpu		HAMMER
ident		LF

include "../../conf/std.nodebug"
include "../../conf/std.lf"

makeoptions	DEBUG=-g		# Build kernel with gdb(1) debug symbols
#makeoptions	WITH_CTF=1		# Run ctfconvert(1) for DTrace support
makeoptions	MODULES_OVERRIDE=""

# General amd64-specific options (MI options should go in std.lf).
options 	EARLY_AP_STARTUP
device		isa
device		io
device		acpi
device		acpi_wmi
options		IOMMU
options		PCI_IOV
device		pci
device		uart
device		uart_ns8250
device		efirt
device		aesni
device		rdrand_rng
device		cpufreq
device		amdtemp
device		amdsmn
device		intpm
device		smbus
device		iicbus
device		iicbb
device		iic
device		ic
device		iicsmb
device		ichsmb
device		ismt
device		amdsmb
device		amdpm
device		jedec_dimm
device		cpuctl
device		coretemp

# Network devices
device		iflib
device		cxgbe
device		cxgbev
device		ix
device		igc

# Storage devices
device		ahci
device		ada
device		mps
device		mpr

# Xen domU support
options		XENHVM
device		xenefi
device		xenpci
device		xentimer

# AT keyboard, for dryad
device		atkbd
device		atkbdc

# VirtIO for bhyve/kvm guests
options		P9FS
device		virtio
device		virtio_pci
device		virtio_p9fs
device		virtio_blk
device		virtio_scsi
device		virtio_balloon
device		virtio_console
device		virtio_random
device		virtio_mmio
device		vtnet

